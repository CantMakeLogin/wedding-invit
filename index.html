<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding Invitation</title>

  <style>
    :root {
      --bg: #faf7f2;
      --card: #ffffff;
      --text: #333;
      --accent: #c59d5f;
    }

    body.dark {
      --bg: #111;
      --card: #1c1c1c;
      --text: #eee;
      --accent: #d4af37;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Georgia", serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.4s, color 0.4s;
      scroll-behavior: smooth;
    }

    section {
      min-height: 100vh;
      padding: 60px 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      opacity: 0;
      transform: translateY(40px);
      transition: 0.8s ease;
      background-size: cover;
      background-position: center;
      position: relative;
      color: white;
    }

    section.show { opacity: 1; transform: translateY(0); }

    section::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.35);
    }

    .card {
      position: relative;
      z-index: 1;
      background: var(--card);
      padding: 40px;
      border-radius: 20px;
      width: 340px;
      box-shadow: 0 10px 30px rgba(0,0,0,.12);
      color: var(--text);
    }

    input[type="text"] {
      width: 100%;
      padding: 14px;
      margin: 15px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    label { display: block; margin: 10px 0; font-size: 16px; }

    button {
      width: 100%;
      padding: 14px;
      margin-top: 10px;
      border: none;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      background: var(--accent);
      color: white;
    }

    .secondary {
      background: transparent;
      color: var(--accent);
      border: 1px solid var(--accent);
    }

    #status { margin-top: 12px; font-weight: bold; }

    .top-controls {
      position: fixed;
      top: 15px;
      right: 15px;
      display: flex;
      gap: 10px;
      z-index: 1000;
    }

    /* ===== COUNTDOWN ===== */
    .countdown { font-size: 20px; margin-top: 15px; }

    /* ===== GALLERY ===== */
    .gallery { width: 100%; max-width: 360px; overflow: hidden; margin-top: 15px; }
    .gallery-track {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .gallery-track::-webkit-scrollbar { display: none; }
    .gallery img {
      width: 100%;
      flex: 0 0 100%;
      scroll-snap-align: center;
      border-radius: 18px;
      object-fit: cover;
      height: 220px;
    }
    .gallery-dots {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 6px;
    }
    .gallery-dots span {
      width: 8px; height: 8px; border-radius: 50%; background: #ccc;
    }
    .gallery-dots span.active { background: var(--accent); }

    /* ===== MOBILE ===== */
    @media (max-width: 768px) {
      section { padding: 40px 16px; }
      .card { width: 100%; max-width: 360px; padding: 28px 22px; }
      .top-controls { top: 10px; right: 10px; gap: 8px; }
      .top-controls button { font-size: 14px; padding: 8px 12px; }
    }

    @media (max-width: 380px) {
      .card { padding: 24px 18px; }
    }
  </style>
</head>

<body>

<div class="top-controls">
  <button class="secondary" onclick="toggleLang()">üåç</button>
  <button class="secondary" onclick="toggleTheme()">üé≠</button>
</div>

<!-- HERO -->
<section style="background-image:url('hero.jpg');">
  <div class="card">
    <h1 data-ru="–ù–∞—à–∞ —Å–≤–∞–¥—å–±–∞" data-en="Our Wedding" data-kk="–ë—ñ–∑–¥—ñ“£ —Ç–æ–π—ã–º—ã–∑"></h1>
    <p data-ru="7 –∏—é–Ω—è 2026" data-en="June 7, 2026" data-kk="7 –º–∞—É—Å—ã–º 2026"></p>
  </div>
</section>

<!-- INVITATION -->
<section style="background-image:url('photo_invitation.jpg');">
  <div class="card">
    <h1 data-ru="–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ" data-en="Invitation" data-kk="–®–∞“õ—ã—Ä—É"></h1>
    <p data-ru="–ë—É–¥–µ–º —Ä–∞–¥—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –≤–º–µ—Å—Ç–µ —Å –≤–∞–º–∏ üíç"
       data-en="We would be honored to celebrate this day with you üíç"
       data-kk="–û—Å—ã –µ—Ä–µ–∫—à–µ –∫“Ø–Ω–¥—ñ –±—ñ–∑–±–µ–Ω –±—ñ—Ä–≥–µ –±”©–ª—ñ—Å—É–≥–µ —à–∞“õ—ã—Ä–∞–º—ã–∑ üíç"></p>
  </div>
</section>

<!-- COUNTDOWN -->
<section style="background-image:url('photo_countdown.jpg');">
  <div class="card">
    <h1 data-ru="–î–æ —Å–≤–∞–¥—å–±—ã –æ—Å—Ç–∞–ª–æ—Å—å" data-en="Time until wedding" data-kk="–¢–æ–π“ì–∞ –¥–µ–π—ñ–Ω"></h1>
    <div id="countdown" class="countdown"></div>
  </div>
</section>

<!-- VENUE -->
<section style="background-image:url('photo_venue.jpg');">
  <div class="card">
    <h1 data-ru="–ú–µ—Å—Ç–æ –∏ –≤—Ä–µ–º—è" data-en="Venue & Time" data-kk="”®—Ç–µ—Ç—ñ–Ω –æ—Ä–Ω—ã –º–µ–Ω —É–∞“õ—ã—Ç—ã"></h1>
    <p data-ru="üïí 17:00" data-en="üïí 5:00 PM" data-kk="üïí 17:00"></p>
    <p data-ru="üìç –¢–∞–ª–≥–∞—Ä—Å–∫–∞—è —Ç—Ä–∞—Å—Å–∞ –•–ê–ù –°–£–õ–¢–ê–ù, –ê–ª–º–∞—Ç—ã"
       data-en="üìç Talgar highway KHAN SULTAN, Almaty"
       data-kk="üìç –¢–∞–ª“ì–∞—Ä —Ç–∞—Å –∂–æ–ª—ã –•–ê–ù –°–£–õ–¢–ê–ù, –ê–ª–º–∞—Ç—ã"></p>
    <button onclick="openMap()"
      data-ru="–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ"
      data-en="Open in Maps"
      data-kk="–ö–∞—Ä—Ç–∞–¥–∞–Ω –∞—à—É"></button>
  </div>
</section>

<!-- PHOTO GALLERY -->
<section style="background-image:url('photo_gallery_bg.jpg');">
  <div class="card">
    <h1 data-ru="–ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã" data-en="Our moments" data-kk="–ë—ñ–∑–¥—ñ“£ —Å”ô—Ç—Ç–µ—Ä"></h1>
    <div class="gallery">
      <div class="gallery-track" id="gallery">
        <img src="photo1.jpg" alt="Photo 1">
        <img src="photo2.jpg" alt="Photo 2">
        <img src="photo3.jpg" alt="Photo 3">
        <img src="photo4.jpg" alt="Photo 4">
        <img src="photo5.jpg" alt="Photo 5">
      </div>
      <div class="gallery-dots" id="dots"></div>
    </div>
  </div>
</section>

<!-- RSVP -->
<section style="background-image:url('photo_rsvp.jpg');">
  <form class="card"
    action="https://docs.google.com/forms/d/e/1FAIpQLSccODtGesRZ3y7xKMyRZOgsM7ydOg141pDamm0DrTNnnmtFyw/formResponse"
    method="POST" target="hidden_iframe" onsubmit="submitted()">

    <h1 data-ru="–í—ã –ø—Ä–∏–¥—ë—Ç–µ?" data-en="Will you attend?" data-kk="–¢–æ–π“ì–∞ –∫–µ–ª–µ—Å—ñ–∑ –±–µ?"></h1>

    <input type="text"
      name="entry.1517386619"
      data-ru-placeholder="–í–∞—à–µ –∏–º—è"
      data-en-placeholder="Your name"
      data-kk-placeholder="–ê—Ç—ã“£—ã–∑"
      required>

    <label>
      <input type="radio" name="entry.1950913670" value="–î–∞" required>
      <span data-ru="–ü—Ä–∏–¥—É" data-en="I will come" data-kk="–ö–µ–ª–µ–º—ñ–Ω"></span>
    </label>

    <label>
      <input type="radio" name="entry.1950913670" value="–ù–µ—Ç">
      <span data-ru="–ù–µ —Å–º–æ–≥—É" data-en="Can't come" data-kk="–ö–µ–ª–µ –∞–ª–º–∞–π–º—ã–Ω"></span>
    </label>

    <button type="submit" data-ru="–û—Ç–ø—Ä–∞–≤–∏—Ç—å" data-en="Submit" data-kk="–ñ—ñ–±–µ—Ä—É"></button>
    <button type="button" class="secondary" onclick="toggleMusic()">üéµ</button>

    <p id="status"></p>
  </form>
</section>


<iframe name="hidden_iframe" style="display:none;"></iframe>
<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== SCROLL ===== */
const observer = new IntersectionObserver(entries =>
  entries.forEach(e => e.isIntersecting && e.target.classList.add("show")),
  { threshold: 0.2 }
);
document.querySelectorAll("section").forEach(s => observer.observe(s));

/* ===== LANGUAGE ===== */
const langs = ["ru","en","kk"];
let langIndex = 0;

function applyLang() {
  const lang = langs[langIndex];
  document.querySelectorAll("[data-ru]").forEach(el => el.innerText = el.dataset[lang]);
  document.querySelectorAll("[data-ru-placeholder]").forEach(el =>
    el.placeholder = el.dataset[lang + "Placeholder"]
  );
}

function toggleLang() { langIndex = (langIndex + 1) % langs.length; applyLang(); }

/* ===== FORM ===== */
function submitted() {
  const rsvpForm = document.querySelector('form.card');
  const messages = { 
    ru: "–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–≤–µ—Ç ‚ù§Ô∏è", 
    en: "Thank you for your response ‚ù§Ô∏è", 
    kk: "–ñ–∞—É–∞–±—ã“£—ã–∑“ì–∞ —Ä–∞—Ö–º–µ—Ç ‚ù§Ô∏è"
  };
  
  // Remove/hide the form after submission
  rsvpForm.style.display = "none";

  // Optionally show a thank you message
  const thankYou = document.createElement("div");
  thankYou.style.marginTop = "20px";
  thankYou.style.fontSize = "18px";
  thankYou.style.fontWeight = "bold";
  thankYou.style.color = "var(--accent)";
  thankYou.innerText = messages[langs[langIndex]];

  // Append to the same section
  rsvpForm.parentElement.appendChild(thankYou);
}


/* ===== THEME ===== */
function toggleTheme() { document.body.classList.toggle("dark"); }

/* ===== SAFE AUTOPLAY MUSIC ===== */
const music = document.getElementById("music");
let playing=false, interacted=false;

function tryAutoplay() { music.volume=0.5; music.play().then(()=>playing=true).catch(()=>{}); }

function enableMusic() {
  if(interacted) return;
  interacted=true;
  music.play();
  playing=true;
  ["click","scroll","touchstart"].forEach(e=>document.removeEventListener(e, enableMusic));
}

function toggleMusic() { playing ? music.pause() : music.play(); playing=!playing; }

["click","scroll","touchstart"].forEach(e=>document.addEventListener(e, enableMusic));
window.addEventListener("load", tryAutoplay);

/* ===== MAP ===== */
function openMap() { window.open("https://go.2gis.com/Uv7Ea","_blank"); }

/* ===== COUNTDOWN ===== */
const weddingDate = new Date("2026-06-07T17:00:00");
function updateCountdown(){
  const now = new Date();
  const diff = weddingDate-now;
  const el=document.getElementById("countdown");
  if(diff<=0){ el.innerText="‚ù§Ô∏è"; return; }
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor((diff/(1000*60*60))%24);
  const m=Math.floor((diff/(1000*60))%60);
  const text={ ru:`${d} –¥–Ω ${h} —á ${m} –º–∏–Ω`, en:`${d} days ${h} hrs ${m} min`, kk:`${d} –∫“Ø–Ω ${h} —Å–∞“ì ${m} –º–∏–Ω`};
  el.innerText = text[langs[langIndex]];
}
setInterval(updateCountdown,60000);
updateCountdown();

/* ===== GALLERY DOTS ===== */
const gallery=document.getElementById("gallery");
const dotsContainer=document.getElementById("dots");
const images=gallery.children;
for(let i=0;i<images.length;i++){
  const dot=document.createElement("span");
  if(i===0) dot.classList.add("active");
  dotsContainer.appendChild(dot);
}
gallery.addEventListener("scroll",()=>{
  const index=Math.round(gallery.scrollLeft/gallery.clientWidth);
  [...dotsContainer.children].forEach((d,i)=>d.classList.toggle("active",i===index));
});

/* INIT */
applyLang();
</script>

</body>
</html>
