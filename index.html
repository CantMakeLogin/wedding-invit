<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Wedding Invitation</title>

  <style>
    :root {
      --bg: #faf7f2;
      --card: #ffffff;
      --text: #333;
      --accent: #c59d5f;
    }

    body.dark {
      --bg: #111;
      --card: #1c1c1c;
      --text: #eee;
      --accent: #d4af37;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Georgia", serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.4s, color 0.4s;
      scroll-behavior: smooth;
    }

    section {
      min-height: 100vh;
      padding: 60px 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      opacity: 0;
      transform: translateY(40px);
      transition: 0.8s ease;
    }

    section.show {
      opacity: 1;
      transform: translateY(0);
    }

    .hero {
      background: url("hero.jpg") center / cover no-repeat;
      position: relative;
      color: white;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.45);
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero h1 { font-size: 48px; }
    .hero p { font-size: 20px; letter-spacing: 2px; }

    .card {
      background: var(--card);
      padding: 40px;
      border-radius: 20px;
      width: 340px;
      box-shadow: 0 10px 30px rgba(0,0,0,.12);
    }

    input[type="text"] {
      width: 100%;
      padding: 12px;
      margin: 15px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
    }

    label { display: block; margin: 10px 0; }

    button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border: none;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      background: var(--accent);
      color: white;
    }

    .secondary {
      background: transparent;
      color: var(--accent);
      border: 1px solid var(--accent);
    }

    #status { margin-top: 12px; font-weight: bold; }

    .top-controls {
      position: fixed;
      top: 15px;
      right: 15px;
      display: flex;
      gap: 10px;
      z-index: 1000;
    }
  </style>
</head>

<body>

<div class="top-controls">
  <button class="secondary" onclick="toggleLang()">üåç</button>
  <button class="secondary" onclick="toggleTheme()">üé≠</button>
</div>

<!-- HERO -->
<section class="hero">
  <div class="hero-content">
    <h1
      data-ru="–ù–∞—à–∞ —Å–≤–∞–¥—å–±–∞"
      data-en="Our Wedding"
      data-kk="–ë—ñ–∑–¥—ñ“£ —Ç–æ–π—ã–º—ã–∑">
    </h1>
    <p
      data-ru="7 –∏—é–Ω—è 2026"
      data-en="June 7, 2026"
      data-kk="7 –º–∞—É—Å—ã–º 2026">
    </p>
  </div>
</section>

<!-- INVITATION -->
<section>
  <div class="card">
    <h1
      data-ru="–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ"
      data-en="Invitation"
      data-kk="–®–∞“õ—ã—Ä—É">
    </h1>
    <p
      data-ru="–ë—É–¥–µ–º —Ä–∞–¥—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –≤–º–µ—Å—Ç–µ —Å –≤–∞–º–∏ üíç"
      data-en="We would be honored to celebrate this day with you üíç"
      data-kk="–û—Å—ã –µ—Ä–µ–∫—à–µ –∫“Ø–Ω–¥—ñ –±—ñ–∑–±–µ–Ω –±—ñ—Ä–≥–µ –±”©–ª—ñ—Å—É–≥–µ —à–∞“õ—ã—Ä–∞–º—ã–∑ üíç">
    </p>
  </div>
</section>

<!-- VENUE -->
<section>
  <div class="card">
    <h1
      data-ru="–ú–µ—Å—Ç–æ –∏ –≤—Ä–µ–º—è"
      data-en="Venue & Time"
      data-kk="”®—Ç–µ—Ç—ñ–Ω –æ—Ä–Ω—ã –º–µ–Ω —É–∞“õ—ã—Ç—ã">
    </h1>
    <p data-ru="üïí 17:00" data-en="üïí 5:00 PM" data-kk="üïí 17:00"></p>
    <p
      data-ru="üìç –¢–∞–ª–≥–∞—Ä—Å–∫–∞—è —Ç—Ä–∞—Å—Å–∞ –•–ê–ù –°–£–õ–¢–ê–ù, –ê–ª–º–∞—Ç—ã"
      data-en="üìç Talgar highway KHAN SULTAN, Almaty"
      data-kk="üìç –¢–∞–ª“ì–∞—Ä —Ç–∞—Å –∂–æ–ª—ã –•–ê–ù –°–£–õ–¢–ê–ù, –ê–ª–º–∞—Ç—ã">
    </p>
    <button onclick="openMap()"
      data-ru="–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ"
      data-en="Open in Maps"
      data-kk="–ö–∞—Ä—Ç–∞–¥–∞–Ω –∞—à—É">
    </button>
  </div>
</section>

<!-- RSVP -->
<section>
  <form
    class="card"
    action="https://docs.google.com/forms/d/e/1FAIpQLSccODtGesRZ3y7xKMyRZOgsM7ydOg141pDamm0DrTNnnmtFyw/formResponse"
    method="POST"
    target="hidden_iframe"
    onsubmit="submitted()">

    <h1
      data-ru="–í—ã –ø—Ä–∏–¥—ë—Ç–µ?"
      data-en="Will you attend?"
      data-kk="–¢–æ–π“ì–∞ –∫–µ–ª–µ—Å—ñ–∑ –±–µ?">
    </h1>

    <input type="text"
      name="entry.1517386619"
      data-ru-placeholder="–í–∞—à–µ –∏–º—è"
      data-en-placeholder="Your name"
      data-kk-placeholder="–ê—Ç—ã“£—ã–∑"
      required>

    <label>
      <input type="radio" name="entry.1950913670" value="–î–∞" required>
      <span data-ru="–ü—Ä–∏–¥—É" data-en="I will come" data-kk="–ö–µ–ª–µ–º—ñ–Ω"></span>
    </label>

    <label>
      <input type="radio" name="entry.1950913670" value="–ù–µ—Ç">
      <span data-ru="–ù–µ —Å–º–æ–≥—É" data-en="Can't come" data-kk="–ö–µ–ª–µ –∞–ª–º–∞–π–º—ã–Ω"></span>
    </label>

    <button type="submit"
      data-ru="–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
      data-en="Submit"
      data-kk="–ñ—ñ–±–µ—Ä—É">
    </button>

    <button type="button" class="secondary" onclick="toggleMusic()">üéµ</button>
    <p id="status"></p>
  </form>
</section>

<iframe name="hidden_iframe" style="display:none;"></iframe>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== SCROLL ===== */
const observer = new IntersectionObserver(e =>
  e.forEach(x => x.isIntersecting && x.target.classList.add("show")),
  { threshold: 0.2 }
);
document.querySelectorAll("section").forEach(s => observer.observe(s));

/* ===== LANGUAGE ===== */
const langs = ["ru", "en", "kk"];
let langIndex = 0;

function applyLang() {
  const lang = langs[langIndex];
  document.querySelectorAll("[data-ru]").forEach(el => {
    el.innerText = el.dataset[lang];
  });
  document.querySelectorAll("[data-ru-placeholder]").forEach(el => {
    el.placeholder = el.dataset[lang + "Placeholder"];
  });
}

function toggleLang() {
  langIndex = (langIndex + 1) % langs.length;
  applyLang();
}

/* ===== FORM ===== */
function submitted() {
  const messages = {
    ru: "–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–≤–µ—Ç ‚ù§Ô∏è",
    en: "Thank you for your response ‚ù§Ô∏è",
    kk: "–ñ–∞—É–∞–±—ã“£—ã–∑“ì–∞ —Ä–∞—Ö–º–µ—Ç ‚ù§Ô∏è"
  };
  document.getElementById("status").innerText =
    messages[langs[langIndex]];
}

/* ===== THEME ===== */
function toggleTheme() {
  document.body.classList.toggle("dark");
}

/* ===== SAFE AUTOPLAY MUSIC ===== */
const music = document.getElementById("music");
let playing = false, interacted = false;

function tryAutoplay() {
  music.volume = 0.5;
  music.play().then(() => playing = true).catch(() => {});
}

function enableMusic() {
  if (interacted) return;
  interacted = true;
  music.play();
  playing = true;
  ["click","scroll","touchstart"].forEach(e =>
    document.removeEventListener(e, enableMusic)
  );
}

function toggleMusic() {
  playing ? music.pause() : music.play();
  playing = !playing;
}

["click","scroll","touchstart"].forEach(e =>
  document.addEventListener(e, enableMusic)
);
window.addEventListener("load", tryAutoplay);

/* ===== MAP ===== */
function openMap() {
  window.open("https://www.google.com/maps?q=43.238949,76.889709", "_blank");
}

/* INIT */
applyLang();
</script>

</body>
</html>
